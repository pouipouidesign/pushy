!function($){$.fn.pushy=function(e){var n={pushySide:"left",pushyActiveClass:"pushy-active",containerId:"container",overlayId:"site-overlay",pushyBtn:'<button type="button" class="menu-btn"><i class="icon-menu"></i> <span class="visuallyhidden"></span></button>',menuSpeed:200,init:!0,destroy:!1},t=$.extend({},n,e),i=this,o=t.pushySide,s="pushy-"+o,a=t.pushyActiveClass,r=i.width()+"px",d=function u(){var e=document.createElement("div"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in n)if(void 0!==e.style[t])return!0;return!1}();return this.each(function(){function e(){$("body,html").addClass(a),i.animate({pushySide:"0px"},t.menuSpeed),$("#container").animate({pushySide:r},t.menuSpeed)}function n(){$("body,html").removeClass(a),i.animate({pushySide:"-"+r},t.menuSpeed),$("#container").animate({pushySide:"0px"},t.menuSpeed)}function o(){if($("body").addClass(s),$("#container").before(i),0===$(".menu-btn").size()&&$("#header").prepend(t.pushyBtn),$("#wrapper").prepend('<div id="'+t.overlayId+'" />'),d)alert("transitions"),$(".menu-btn, #"+t.overlayId).on("click",function(e){e.preventDefault(),$("body,html").toggleClass(a)});else{alert("no transitions"),i.css({pushySide:"-"+r}),$("#container").css({"overflow-x":"hidden"});var o=!0;$(".menu-btn, #"+t.overlayId).on("click",function(t){t.preventDefault(),o?(e(),o=!1):(n(),o=!0)})}}function u(){d||(i.css({left:"auto"}),$("#container").css({"overflow-x":"auto"})),$(".menu-btn").remove(),$("body, html").removeClass(s).removeClass(a),$("#"+t.overlayId).remove(),$("#header").append(i)}return t.init?void o():t.destroy?void u():void 0})}}(jQuery);